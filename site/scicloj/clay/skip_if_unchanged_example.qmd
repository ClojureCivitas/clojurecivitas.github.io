---
author:
  name: Daniel Slutsky
  image: https://avatars.githubusercontent.com/u/5673102?v=4
  url: https://scicloj.github.io/contributors/daslu/
  affiliation:
  - {name: Scicloj, url: 'https://scicloj.github.io/'}
  links:
  - {icon: github, href: 'https://github.com/daslu'}
description: A demonstration of our practice with some Civitas notebooks that cannot be run in GitHub Pages.
image: skip-if-unchanged.jpg
type: post
date: '2025-07-25'
category: clay
tags: [clay, workflow]
format:
  html: {title: Some Civitas notebooks should only be run locally}

---
<style></style><style>.printedClojure .sourceCode {
  background-color: transparent;
  border-style: none;
}
</style><style>.clay-limit-image-width .clay-image {max-width: 100%}
.clay-side-by-side .sourceCode {margin: 0}
.clay-side-by-side {margin: 1em 0}
</style>
<script src="skip_if_unchanged_example_files/md-default0.js" type="text/javascript"></script><script src="skip_if_unchanged_example_files/md-default1.js" type="text/javascript"></script>
(Work-In-Progress Draft)

Usually, when we wish to create Clojure Civitas posts, we enjoy the fact
that Civitas runs our notebooks in the GitHub Actions as it renders the website.

While this is the default behavior, sometimes, we cannot expect our notebooks
to be run in GitHub Actions. For example, they may depend on a local file
or service.

This notebook, for example, assumes that you have a local secrets file,
and it will not work without it!


::: {.sourceClojure}
```clojure
(slurp "/home/daslu/my-secret.txt")
```
:::



::: {.callout-important collapse=true}
## /home/daslu/my-secret.txt (No such file or directory)
```
                               clojure.core/eval              core.clj: 3232
                                             ...                           
scicloj.clay.skip-if-unchanged-example/eval36968            REPL Input:     
                                             ...                           
                              clojure.core/slurp              core.clj: 7089 (repeats 2 times)
                                             ...                           
                          clojure.java.io/reader                io.clj:   89
                          clojure.java.io/reader                io.clj:  105
                            clojure.java.io/fn/G                io.clj:   72
                              clojure.java.io/fn                io.clj:  168
                            clojure.java.io/fn/G                io.clj:   72
                              clojure.java.io/fn                io.clj:  261
                            clojure.java.io/fn/G                io.clj:   72
                              clojure.java.io/fn                io.clj:  232
                  java.io.FileInputStream.<init>  FileInputStream.java:  159
                    java.io.FileInputStream.open  FileInputStream.java:  219
                   java.io.FileInputStream.open0  FileInputStream.java:     
java.io.FileNotFoundException: /home/daslu/my-secret.txt (No such file or directory)


```
:::



```{=html}
<div style="background-color:grey;height:2px;width:100%;"></div>
```



```{=html}
<div><pre><small><small>source: <a href="https://github.com/ClojureCivitas/clojurecivitas.github.io/blob/main/src/scicloj/clay/skip_if_unchanged_example.clj">src/scicloj/clay/skip_if_unchanged_example.clj</a></small></small></pre></div>
```
